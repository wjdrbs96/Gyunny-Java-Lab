# `아이템23 : 태그 달린 클래스보다는 클래스 게층구조를 활용하라`

태그 달린 클래스에는 단점이 한가득이다. 

- 우선 열거 타입 선언, 태그 필드, switch 문 등 쓸데없는 코드가 많습니다.
- 태그 달린 클래스는 장황하고, 오류를 내기 쉽고, 비효율적입니다. 

태그 달린 클래스를 `클래스 계층구조`로 바꾸는 방법을 알아보자. 

가장 먼저 계층구조의 루트가 될 추상 클래스를 정의하고, 태그 값에 따라 동작이 달라지는 메소드들을 루트 클래스의 추상 메소드로 선언한다. 

- 동작이 일정한 메소드들을 루트 클래스의 일반 메소드로 추가합니다.
- 모든 하위 클래스에서 공통으로 사용하는 데이터 필드들도 전부 루트 클래스로 올린다. 

이렇게 작성하면 타입 사이의 자연스러운 계층 관계를 반영할 수 있어서 유연성은 물론 컴파일타임 타입 검사 능력을 높여준다는 장점도 있습니다. 

<br>

## 핵심 정리

> 태그 달린 클래스를 써야 하는 상황은 거의 없다. 새롱누 클래스를 작성하는 데 태그 필드가 등장한다면 태그를 없애고 계층구조로 대체하는 방법을 생각해보자.
> 기존 클래스가 태그 필드를 사용하고 있다면 계층구조로 리팩토링하는 걸 고민해보자.

